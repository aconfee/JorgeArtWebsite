<admin-header title="Admin Dashboard"></admin-header>

<a href="/admin/newProject">
  <button style="display:inline-block; margin:5px 0;" class="btn btn-primary">New Project</button>
</a>

<div ng-repeat="project in viewModel.projects" style="display:inline-block; width:200px; height:270px; overflow:none; margin:20px;">
  <p>{{ project.name }}</p>
  <div style="height:150px; width:200px; background-color:yellow">
      <img style="width:100%; height:100%;" ng-src="{{ project.projectCoverImage }}" />
  </div>
  <a ng-href="admin/edit/{{ project._id }}">
    <button style="display:block; width:100%; margin:5px 0;" class="btn btn-primary btn-lg">Edit</button>
  </a>
  <button style="display:block; width:100%; margin:5px 0;" type="button" class="btn btn-danger" data-toggle="modal" data-target="#confirmationModal" ng-click="viewModel.markForDelete($index)">Delete</button>
</div>

<!-- CONFIRMATION MODAL -->
<div id="confirmationModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Delete Project</h4>
      </div>
      <div class="modal-body">
        <p>Are you sure you want to delete <b>'{{ viewModel.projectToDelete.name }}'</b>?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button style="margin:5px 0;" class="btn btn-danger" ng-click="viewModel.deleteProject()" data-dismiss="modal">Delete</button>
      </div>
    </div>

  </div>
</div>
